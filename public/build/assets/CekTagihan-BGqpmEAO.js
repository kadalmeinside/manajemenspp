import{c as o,b as s,e,G as D,k as v,x as N,r as P,d as g,u as r,g as L,w as m,h as k,S as p,t as n,m as V,l as h,C as f,I as C,j as u,n as y,P as S,F as w,f as I,Q as B}from"./app-D0o-brb1.js";import{A as E}from"./ApplicationLogo-y86sr9v3.js";import{r as H}from"./ArrowPathIcon-Ct501NdJ.js";import{r as $}from"./CheckCircleIcon-CP3PcNC0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function R(i,c){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),e("path",{"fill-rule":"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z","clip-rule":"evenodd"}),e("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"})])}function z(i,c){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),e("path",{"fill-rule":"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z","clip-rule":"evenodd"})])}function G(i,c){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z","clip-rule":"evenodd"})])}const F={class:"relative min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center p-4 sm:p-6"},K={class:"w-full max-w-4xl mx-auto z-10 flex-grow flex flex-col justify-center"},q={class:"text-center mb-8"},O=["src"],Q={class:"text-lg text-white/80"},U={class:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg shadow-2xl rounded-xl p-6 md:p-8 flex-grow"},J={key:0},X={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",role:"alert"},W={key:0,class:"text-red-500 text-xs mt-1"},Y={key:0,class:"text-red-500 text-xs mt-1"},ee=["disabled"],te={key:0},ae={key:1},se={key:1},re={class:"flex flex-col sm:flex-row justify-between sm:items-center gap-4"},oe={class:"text-xl font-bold text-gray-900 dark:text-white"},le={class:"text-sm text-gray-500 dark:text-gray-400"},ne={class:"flex items-center gap-2"},de={class:"mt-6 border-b border-gray-200 dark:border-gray-700"},ie={class:"-mb-px flex space-x-6","aria-label":"Tabs"},ge={class:"mt-6 space-y-4"},ue={key:0,class:"text-center text-gray-500 py-10"},xe={class:"flex justify-between items-start gap-4"},ce={class:"flex-grow"},me={class:"font-semibold text-gray-800 dark:text-gray-100"},pe={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1"},he={class:"flex-shrink-0"},fe={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-between gap-3"},ye={class:"text-xl font-bold text-gray-900 dark:text-white"},be=["href"],ve={key:0,class:"text-center text-gray-500 py-10"},ke={class:"flex justify-between items-start gap-4"},we={class:"flex-grow"},_e={class:"font-semibold text-gray-800 dark:text-gray-100"},Me={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1"},Ze={key:2},Ce={key:3},Se={class:"flex-shrink-0"},Ie={class:"w-full max-w-4xl mx-auto mt-8 text-center text-sm text-white"},Te={class:"mt-8 border-t border-zinc-700 py-6 text-center text-sm"},je={class:"mt-2 space-x-4"},Ve={__name:"CekTagihan",props:{pageTitle:String,errors:Object,siswa:Object,invoiceList:Array},setup(i){const c=i,_=D(),M=v(()=>{var l;return(l=_.props.app_settings)!=null&&l.app_logo?`/storage/${_.props.app_settings.app_logo}`:null}),d=N({nis:"",tanggal_lahir:""}),x=P("pending"),b=v(()=>{var l;return((l=c.invoiceList)==null?void 0:l.filter(t=>t.status==="PENDING"))||[]}),Z=v(()=>{var l;return((l=c.invoiceList)==null?void 0:l.filter(t=>t.status!=="PENDING"))||[]}),T=()=>{d.post(route("tagihan.check_status"),{preserveState:!0,onError:()=>d.reset("nis","tanggal_lahir")})},j=()=>{B.reload({only:["invoiceList"]})},A=l=>l==="PAID"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":l==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":l==="EXPIRED"||l==="FAILED"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400";return(l,t)=>(s(),o(w,null,[g(r(L),{title:i.pageTitle},null,8,["title"]),e("div",F,[t[18]||(t[18]=e("div",{class:"fixed inset-0 z-0"},[e("div",{class:"absolute inset-0 bg-cover bg-center",style:{"background-image":"url('/images/bg_registration.webp')"}}),e("div",{class:"absolute inset-0 bg-black/50"})],-1)),e("main",K,[e("header",q,[g(r(p),{href:"/",class:"inline-block"},{default:m(()=>[M.value?(s(),o("img",{key:0,src:M.value,alt:"App Logo",class:"h-12 w-auto mx-auto"},null,8,O)):(s(),k(E,{key:1,class:"h-12 w-auto mx-auto text-white"}))]),_:1}),t[4]||(t[4]=e("h1",{class:"mt-4 text-3xl font-bold text-white tracking-tight"},"Persija Development",-1)),e("h2",Q,n(i.pageTitle),1)]),e("div",U,[i.siswa?(s(),o("div",se,[e("div",re,[e("div",null,[e("h3",oe,"Hasil untuk: "+n(i.siswa.nama_siswa),1),e("p",le,"NIS: "+n(i.siswa.nis),1)]),e("div",ne,[e("button",{onClick:j,class:"text-sm text-indigo-600 hover:text-indigo-500 flex items-center p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},[g(r(H),{class:"h-4 w-4 mr-1"}),t[8]||(t[8]=u(" Refresh "))]),g(r(p),{href:l.route("tagihan.check_form"),class:"text-sm text-indigo-600 hover:text-indigo-500 flex items-center p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},{default:m(()=>t[9]||(t[9]=[u(" Cari Siswa Lain ")])),_:1,__:[9]},8,["href"])])]),e("div",de,[e("nav",ie,[e("button",{onClick:t[2]||(t[2]=a=>x.value="pending"),class:y([x.value==="pending"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Tagihan Tertunda ("+n(b.value.length)+") ",3),e("button",{onClick:t[3]||(t[3]=a=>x.value="history"),class:y([x.value==="history"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Riwayat Pembayaran ",2)])]),e("div",ge,[f(e("div",null,[b.value.length===0?(s(),o("div",ue,"Tidak ada tagihan yang perlu dibayar.")):(s(!0),o(w,{key:1},I(b.value,a=>(s(),o("div",{key:a.id,class:"bg-white mb-3 dark:bg-gray-800/50 p-4 rounded-lg shadow-sm"},[e("div",xe,[e("div",ce,[e("p",me,n(a.description),1),e("p",pe,[g(r(z),{class:"h-4 w-4 mr-1.5"}),u(" Jatuh Tempo: "+n(a.due_date_formatted),1)])]),e("div",he,[e("span",{class:y(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",A(a.status)])},n(a.status),3)])]),e("div",fe,[e("p",ye,n(a.total_amount_formatted),1),a.can_pay&&a.xendit_payment_url?(s(),o("a",{key:0,href:a.xendit_payment_url,target:"_blank",class:"w-full sm:w-auto inline-flex items-center justify-center text-white bg-red-600 hover:bg-red-700 font-medium rounded-lg text-sm px-5 py-2"},[g(r(R),{class:"h-5 w-5 mr-2"}),t[10]||(t[10]=u(" Bayar Sekarang "))],8,be)):h("",!0)])]))),128))],512),[[S,x.value==="pending"]]),f(e("div",null,[Z.value.length===0?(s(),o("div",ve,"Belum ada riwayat pembayaran.")):(s(!0),o(w,{key:1},I(Z.value,a=>(s(),o("div",{key:a.id,class:"bg-white dark:bg-gray-800/50 p-4 rounded-lg shadow-sm"},[e("div",ke,[e("div",we,[e("p",_e,n(a.description),1),e("p",Me,[a.status==="PAID"?(s(),k(r($),{key:0,class:"h-4 w-4 mr-1.5 text-green-500"})):(s(),k(r(G),{key:1,class:"h-4 w-4 mr-1.5 text-red-500"})),a.status==="PAID"?(s(),o("span",Ze,"Lunas pada: "+n(a.paid_at_formatted),1)):(s(),o("span",Ce,"Status: "+n(a.status),1))])]),e("div",Se,[e("p",{class:y(["text-lg font-bold text-right",a.status==="PAID"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},n(a.total_amount_formatted),3)])])]))),128))],512),[[S,x.value==="history"]])])])):(s(),o("div",J,[t[7]||(t[7]=e("p",{class:"text-center text-gray-600 dark:text-gray-400"},"Masukkan NIS dan Tanggal Lahir untuk melihat status pembayaran.",-1)),e("form",{onSubmit:V(T,["prevent"]),class:"mt-6 max-w-md mx-auto space-y-6"},[i.errors.lookup?(s(),o("div",X,[e("span",null,n(i.errors.lookup),1)])):h("",!0),e("div",null,[t[5]||(t[5]=e("label",{for:"nis",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"NIS (Nomor Induk Siswa)",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r(d).nis=a),id:"nis",type:"text",required:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[C,r(d).nis]]),r(d).errors.nis?(s(),o("div",W,n(r(d).errors.nis),1)):h("",!0)]),e("div",null,[t[6]||(t[6]=e("label",{for:"tanggal_lahir",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal Lahir",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r(d).tanggal_lahir=a),id:"tanggal_lahir",type:"date",required:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[C,r(d).tanggal_lahir]]),r(d).errors.tanggal_lahir?(s(),o("div",Y,n(r(d).errors.tanggal_lahir),1)):h("",!0)]),e("div",null,[e("button",{type:"submit",disabled:r(d).processing,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"},[r(d).processing?(s(),o("span",ae,"Mencari...")):(s(),o("span",te,"Cek Tagihan"))],8,ee)])],32)]))]),e("footer",Ie,[t[17]||(t[17]=e("p",null,"Contact Center: 0811-2626-323",-1)),e("div",Te,[t[16]||(t[16]=e("p",null,"Copyright © 2025 Persija Development. All Rights Reserved.",-1)),e("div",je,[g(r(p),{href:l.route("legal.terms"),class:"hover:underline"},{default:m(()=>t[11]||(t[11]=[u("Syarat & Ketentuan")])),_:1,__:[11]},8,["href"]),t[14]||(t[14]=e("span",{class:"text-gray-500"},"·",-1)),g(r(p),{href:l.route("legal.refund"),class:"hover:underline"},{default:m(()=>t[12]||(t[12]=[u("Kebijakan Pengembalian")])),_:1,__:[12]},8,["href"]),t[15]||(t[15]=e("span",{class:"text-gray-500"},"·",-1)),g(r(p),{href:l.route("legal.privacy"),class:"hover:underline"},{default:m(()=>t[13]||(t[13]=[u("Kebijakan Privasi")])),_:1,__:[13]},8,["href"])])])])])])],64))}};export{Ve as default};
