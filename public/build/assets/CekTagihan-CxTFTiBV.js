import{a as s,o as r,d as t,D as N,c as f,x as A,j as V,b as u,u as o,g as j,w as M,f as b,S as Z,t as d,h as B,e as x,B as m,H as S,i as p,n as h,L as I,F as k,r as T,Q as P}from"./app-DTOZ3zsH.js";import{A as E}from"./ApplicationLogo-Cp59Ii8x.js";import{r as H}from"./ArrowPathIcon-BmVieaQ0.js";import{r as $}from"./CheckCircleIcon-mXPivvxl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function z(i,c){return r(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),t("path",{"fill-rule":"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z","clip-rule":"evenodd"}),t("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"})])}function F(i,c){return r(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),t("path",{"fill-rule":"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z","clip-rule":"evenodd"})])}function G(i,c){return r(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z","clip-rule":"evenodd"})])}const R={class:"relative min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center p-4 sm:p-6"},q={class:"w-full max-w-4xl mx-auto z-10 flex-grow flex flex-col"},O={class:"text-center mb-8"},Q=["src"],U={class:"text-lg text-white/80"},J={class:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg shadow-2xl rounded-xl p-6 md:p-8 flex-grow"},X={key:0},K={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",role:"alert"},W={key:0,class:"text-red-500 text-xs mt-1"},Y={key:0,class:"text-red-500 text-xs mt-1"},tt=["disabled"],et={key:0},at={key:1},rt={key:1},st={class:"flex flex-col sm:flex-row justify-between sm:items-center gap-4"},ot={class:"text-xl font-bold text-gray-900 dark:text-white"},lt={class:"text-sm text-gray-500 dark:text-gray-400"},dt={class:"flex items-center gap-2"},nt={class:"mt-6 border-b border-gray-200 dark:border-gray-700"},it={class:"-mb-px flex space-x-6","aria-label":"Tabs"},gt={class:"mt-6 space-y-4"},ut={key:0,class:"text-center text-gray-500 py-10"},ct={class:"flex justify-between items-start gap-4"},xt={class:"flex-grow"},mt={class:"font-semibold text-gray-800 dark:text-gray-100"},pt={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1"},ht={class:"flex-shrink-0"},yt={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-between gap-3"},ft={class:"text-xl font-bold text-gray-900 dark:text-white"},bt=["href"],kt={key:0,class:"text-center text-gray-500 py-10"},vt={class:"flex justify-between items-start gap-4"},_t={class:"flex-grow"},wt={class:"font-semibold text-gray-800 dark:text-gray-100"},Mt={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1"},Zt={key:2},St={key:3},It={class:"flex-shrink-0"},At={__name:"CekTagihan",props:{pageTitle:String,errors:Object,siswa:Object,invoiceList:Array},setup(i){const c=i,v=N(),_=f(()=>{var l;return(l=v.props.app_settings)!=null&&l.app_logo?`/storage/${v.props.app_settings.app_logo}`:null}),n=A({nis:"",tanggal_lahir:""}),g=V("pending"),y=f(()=>{var l;return((l=c.invoiceList)==null?void 0:l.filter(e=>e.status==="PENDING"))||[]}),w=f(()=>{var l;return((l=c.invoiceList)==null?void 0:l.filter(e=>e.status!=="PENDING"))||[]}),C=()=>{n.post(route("tagihan.check_status"),{preserveState:!0,onError:()=>n.reset("nis","tanggal_lahir")})},D=()=>{P.reload({only:["invoiceList"]})},L=l=>l==="PAID"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":l==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":l==="EXPIRED"||l==="FAILED"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400";return(l,e)=>(r(),s(k,null,[u(o(j),{title:i.pageTitle},null,8,["title"]),t("div",R,[e[11]||(e[11]=t("div",{class:"absolute inset-0 z-0 bg-cover bg-center",style:{"background-image":"url('/images/bg_registration.jpg')"}},null,-1)),e[12]||(e[12]=t("div",{class:"absolute inset-0 bg-black/50 z-0"},null,-1)),t("main",q,[t("header",O,[u(o(Z),{href:"/",class:"inline-block"},{default:M(()=>[_.value?(r(),s("img",{key:0,src:_.value,alt:"App Logo",class:"h-12 w-auto mx-auto"},null,8,Q)):(r(),b(E,{key:1,class:"h-12 w-auto mx-auto text-white"}))]),_:1}),e[4]||(e[4]=t("h1",{class:"mt-4 text-3xl font-bold text-white tracking-tight"},"Persija Development",-1)),t("h2",U,d(i.pageTitle),1)]),t("div",J,[i.siswa?(r(),s("div",rt,[t("div",st,[t("div",null,[t("h3",ot,"Hasil untuk: "+d(i.siswa.nama_siswa),1),t("p",lt,"NIS: "+d(i.siswa.nis),1)]),t("div",dt,[t("button",{onClick:D,class:"text-sm text-indigo-600 hover:text-indigo-500 flex items-center p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},[u(o(H),{class:"h-4 w-4 mr-1"}),e[8]||(e[8]=p(" Refresh "))]),u(o(Z),{href:l.route("tagihan.check_form"),class:"text-sm text-indigo-600 hover:text-indigo-500 flex items-center p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},{default:M(()=>e[9]||(e[9]=[p(" Cari Siswa Lain ")])),_:1,__:[9]},8,["href"])])]),t("div",nt,[t("nav",it,[t("button",{onClick:e[2]||(e[2]=a=>g.value="pending"),class:h([g.value==="pending"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Tagihan Tertunda ("+d(y.value.length)+") ",3),t("button",{onClick:e[3]||(e[3]=a=>g.value="history"),class:h([g.value==="history"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Riwayat Pembayaran ",2)])]),t("div",gt,[m(t("div",null,[y.value.length===0?(r(),s("div",ut,"Tidak ada tagihan yang perlu dibayar.")):(r(!0),s(k,{key:1},T(y.value,a=>(r(),s("div",{key:a.id,class:"bg-white dark:bg-gray-800/50 p-4 rounded-lg shadow-sm"},[t("div",ct,[t("div",xt,[t("p",mt,d(a.description),1),t("p",pt,[u(o(F),{class:"h-4 w-4 mr-1.5"}),p(" Jatuh Tempo: "+d(a.due_date_formatted),1)])]),t("div",ht,[t("span",{class:h(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",L(a.status)])},d(a.status),3)])]),t("div",yt,[t("p",ft,d(a.total_amount_formatted),1),a.can_pay&&a.xendit_payment_url?(r(),s("a",{key:0,href:a.xendit_payment_url,target:"_blank",class:"w-full sm:w-auto inline-flex items-center justify-center text-white bg-red-600 hover:bg-red-700 font-medium rounded-lg text-sm px-5 py-2"},[u(o(z),{class:"h-5 w-5 mr-2"}),e[10]||(e[10]=p(" Bayar Sekarang "))],8,bt)):x("",!0)])]))),128))],512),[[I,g.value==="pending"]]),m(t("div",null,[w.value.length===0?(r(),s("div",kt,"Belum ada riwayat pembayaran.")):(r(!0),s(k,{key:1},T(w.value,a=>(r(),s("div",{key:a.id,class:"bg-white dark:bg-gray-800/50 p-4 rounded-lg shadow-sm"},[t("div",vt,[t("div",_t,[t("p",wt,d(a.description),1),t("p",Mt,[a.status==="PAID"?(r(),b(o($),{key:0,class:"h-4 w-4 mr-1.5 text-green-500"})):(r(),b(o(G),{key:1,class:"h-4 w-4 mr-1.5 text-red-500"})),a.status==="PAID"?(r(),s("span",Zt,"Lunas pada: "+d(a.paid_at_formatted),1)):(r(),s("span",St,"Status: "+d(a.status),1))])]),t("div",It,[t("p",{class:h(["text-lg font-bold text-right",a.status==="PAID"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},d(a.total_amount_formatted),3)])])]))),128))],512),[[I,g.value==="history"]])])])):(r(),s("div",X,[e[7]||(e[7]=t("p",{class:"text-center text-gray-600 dark:text-gray-400"},"Masukkan NIS dan Tanggal Lahir untuk melihat status pembayaran.",-1)),t("form",{onSubmit:B(C,["prevent"]),class:"mt-6 max-w-md mx-auto space-y-6"},[i.errors.lookup?(r(),s("div",K,[t("span",null,d(i.errors.lookup),1)])):x("",!0),t("div",null,[e[5]||(e[5]=t("label",{for:"nis",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"NIS (Nomor Induk Siswa)",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o(n).nis=a),id:"nis",type:"text",required:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"},null,512),[[S,o(n).nis]]),o(n).errors.nis?(r(),s("div",W,d(o(n).errors.nis),1)):x("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{for:"tanggal_lahir",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal Lahir",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o(n).tanggal_lahir=a),id:"tanggal_lahir",type:"date",required:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"},null,512),[[S,o(n).tanggal_lahir]]),o(n).errors.tanggal_lahir?(r(),s("div",Y,d(o(n).errors.tanggal_lahir),1)):x("",!0)]),t("div",null,[t("button",{type:"submit",disabled:o(n).processing,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"},[o(n).processing?(r(),s("span",at,"Mencari...")):(r(),s("span",et,"Cek Tagihan"))],8,tt)])],32)]))])])])],64))}};export{At as default};
