import{k as v,x as k,o as _,a as x,c as V,b as M,d as n,u as o,g as S,w as c,e as a,m as T,C as g,D as C,I as E,j as y,S as U,t as j,F as B}from"./app-D_KT0tPu.js";import{A as D}from"./AuthenticatedLayout-Be6LC74m.js";import{P}from"./PrimaryButton-cD5W__y6.js";import{_ as d,a as p,b as m}from"./TextInput-BfGu2Bmr.js";import"./ApplicationLogo-DBJf_uXy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-BCWgZ0fC.js";import"./SecondaryButton-BiNkEi16.js";import"./DangerButton-C2W4mQAu.js";import"./ArrowPathIcon-BICNMCoS.js";import"./CheckCircleIcon-Dj4egUVU.js";import"./XCircleIcon-QLoYyhtd.js";import"./UsersIcon-my6ZFiS5.js";import"./XMarkIcon-oIUpVMdT.js";import"./ChevronDownIcon-C8dmnrSh.js";import"./ChevronRightIcon-B1ZJtrh5.js";const q={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},z={class:"pb-12 pt-4"},I={class:"max-w-7xl mx-auto"},K={class:"bg-white dark:bg-gray-800 p-6 shadow-sm sm:rounded-lg"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"flex items-center gap-4"},A="b1dftwwgalb2h6jhbgab8ii48rz5l9uwvcmwkr8l0zl1k603",ae={__name:"Create",props:{document:{type:Object,default:()=>({})},pageTitle:String},setup(u){const l=u,f=v(()=>!!l.document.id),e=k({name:l.document.name||"",type:l.document.type||"terms_and_conditions",version:l.document.version||"",content:l.document.content||"",published_at:l.document.published_at?l.document.published_at.slice(0,10):null}),b=()=>{window.tinymce&&tinymce.init({selector:"textarea#content",plugins:"lists link image table code help wordcount autoresize",toolbar:"undo redo | blocks | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | link image | code",skin:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"oxide-dark":"oxide",content_css:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default",height:500,setup:s=>{s.on("init",()=>{s.setContent(e.content)}),s.on("change keyup",()=>{e.content=s.getContent()})}})},h=()=>new Promise((s,t)=>{const i="tinymce-script";if(document.getElementById(i)||window.tinymce){s();return}const r=document.createElement("script");r.id=i,r.src=`https://cdn.tiny.cloud/1/${A}/tinymce/7/tinymce.min.js`,r.referrerpolicy="origin",r.onload=()=>s(),r.onerror=()=>t(new Error("Failed to load TinyMCE script.")),document.head.appendChild(r)});_(async()=>{try{await h(),b()}catch(s){console.error(s)}}),x(()=>{window.tinymce&&tinymce.get("content")&&tinymce.get("content").destroy()});const w=()=>{f.value?e.put(route("admin.legal-documents.update",l.document.id)):e.post(route("admin.legal-documents.store"))};return(s,t)=>(M(),V(B,null,[n(o(S),{title:u.pageTitle},null,8,["title"]),n(D,null,{header:c(()=>[a("h2",q,j(u.pageTitle),1)]),default:c(()=>[a("div",z,[a("div",I,[a("div",K,[a("form",{onSubmit:T(w,["prevent"]),class:"space-y-6"},[a("div",N,[a("div",null,[n(d,{for:"name",value:"Nama Unik Dokumen",required:""}),n(p,{id:"name",modelValue:o(e).name,"onUpdate:modelValue":t[0]||(t[0]=i=>o(e).name=i),class:"mt-1 block w-full",placeholder:"cth: pendaftaran-soccer-school"},null,8,["modelValue"]),n(m,{message:o(e).errors.name,class:"mt-2"},null,8,["message"])]),a("div",null,[n(d,{for:"type",value:"Tipe Dokumen",required:""}),g(a("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=i=>o(e).type=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 rounded-md shadow-sm"},t[5]||(t[5]=[a("option",{value:"terms_and_conditions"},"Syarat & Ketentuan",-1),a("option",{value:"privacy_policy"},"Kebijakan Privasi",-1),a("option",{value:"refund_policy"},"Kebijakan Pengembalian",-1)]),512),[[C,o(e).type]]),n(m,{message:o(e).errors.type,class:"mt-2"},null,8,["message"])]),a("div",null,[n(d,{for:"version",value:"Versi",required:""}),n(p,{id:"version",modelValue:o(e).version,"onUpdate:modelValue":t[2]||(t[2]=i=>o(e).version=i),class:"mt-1 block w-full",placeholder:"cth: 1.0"},null,8,["modelValue"]),n(m,{message:o(e).errors.version,class:"mt-2"},null,8,["message"])]),a("div",null,[n(d,{for:"published_at",value:"Tanggal Publikasi (Opsional)"}),n(p,{id:"published_at",modelValue:o(e).published_at,"onUpdate:modelValue":t[3]||(t[3]=i=>o(e).published_at=i),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),n(m,{message:o(e).errors.published_at,class:"mt-2"},null,8,["message"])])]),a("div",null,[n(d,{for:"content",value:"Isi Dokumen",required:""}),g(a("textarea",{id:"content","onUpdate:modelValue":t[4]||(t[4]=i=>o(e).content=i),class:"hidden"},null,512),[[E,o(e).content]]),n(m,{message:o(e).errors.content,class:"mt-2"},null,8,["message"])]),a("div",$,[n(P,{disabled:o(e).processing},{default:c(()=>t[6]||(t[6]=[y("Simpan")])),_:1,__:[6]},8,["disabled"]),n(o(U),{href:s.route("admin.legal-documents.index"),class:"text-sm text-gray-600 hover:underline dark:text-gray-400"},{default:c(()=>t[7]||(t[7]=[y("Batal")])),_:1,__:[7]},8,["href"])])],32)])])])]),_:1})],64))}};export{ae as default};
