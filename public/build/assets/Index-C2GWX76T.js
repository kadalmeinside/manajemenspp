import{A as k}from"./AuthenticatedLayout-CoPbdDRU.js";import{r as g,J as b,c as n,b as l,d as s,u as m,g as T,w as r,e as t,S as y,j as p,l as f,F as w,f as C,t as d,K as V}from"./app-Dk2poFpF.js";import{P as D}from"./PrimaryButton-CTr5YWZp.js";import{_ as L,a as M}from"./SecondaryButton-DgwrQ3xq.js";import{r as j}from"./PlusIcon-BfNHPN7Z.js";import{r as B}from"./EyeIcon-3Fl-tlZu.js";import"./ApplicationLogo-Ba5RTNil.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Bm3xLEfu.js";import"./DangerButton-dG3daeid.js";import"./ArrowPathIcon-CUF4SU5u.js";import"./CheckCircleIcon-B9W32SYq.js";import"./XCircleIcon-CBzpbkFQ.js";import"./UsersIcon-DnIsIyXg.js";import"./XMarkIcon-C3zYpZna.js";import"./ChevronDownIcon-DW9UqOnW.js";import"./ChevronRightIcon-CCAbuFeO.js";const N={class:"pb-12 pt-4"},S={class:"max-w-7xl mx-auto"},A={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},$={class:"p-6 text-gray-900 dark:text-gray-100"},H={class:"mb-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4"},P={class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},E={class:"divide-y divide-gray-200 dark:divide-gray-700"},F={key:0},G={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},I={class:"px-6 py-4 whitespace-nowrap text-sm"},J={class:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md text-xs"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},W={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4"},q=["onClick"],Q={class:"p-6"},R={key:0,class:"flex justify-center items-center h-64"},U={key:1},X={class:"text-xl font-bold text-gray-900 dark:text-white mb-4 border-b pb-3 dark:border-gray-700"},Y=["innerHTML"],Z={class:"mt-6 flex justify-end"},ft={__name:"Index",props:{documents:Object,pageTitle:String},setup(u){const c=g(!1),x=g(!1),a=g(null),_=async i=>{a.value=null,x.value=!0,c.value=!0;try{const e=await V.get(route("admin.legal-documents.show",i));a.value=e.data}catch(e){console.error("Gagal memuat konten dokumen:",e),a.value={content:'<p class="text-red-500">Gagal memuat konten.</p>'}}finally{x.value=!1}},h=()=>{c.value=!1,a.value=null};return(i,e)=>{const v=b("Toast");return l(),n(w,null,[s(m(T),{title:u.pageTitle},null,8,["title"]),s(k,null,{header:r(()=>e[0]||(e[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Manajemen Dok Legal",-1)])),default:r(()=>[s(v,{message:i.flashMessage,type:i.flashType},null,8,["message","type"]),t("div",N,[t("div",S,[t("div",A,[t("div",$,[t("div",H,[s(m(y),{href:i.route("admin.legal-documents.create")},{default:r(()=>[s(D,null,{default:r(()=>[s(m(j),{class:"h-5 w-5 mr-2"}),e[1]||(e[1]=p("Tambah Dokumen"))]),_:1,__:[1]})]),_:1},8,["href"])]),t("div",P,[t("table",z,[e[5]||(e[5]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Dokumen"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipe"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Versi"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tgl Publikasi"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",E,[u.documents.data.length===0?(l(),n("tr",F,e[2]||(e[2]=[t("td",{colspan:"5",class:"text-center py-4"},"Tidak ada dokumen.",-1)]))):f("",!0),(l(!0),n(w,null,C(u.documents.data,o=>(l(),n("tr",{key:o.id},[t("td",G,d(o.name),1),t("td",I,[t("span",J,d(o.type),1)]),t("td",K,d(o.version),1),t("td",O,d(o.published_at?new Date(o.published_at).toLocaleDateString("id-ID"):"-"),1),t("td",W,[t("button",{onClick:tt=>_(o.id),class:"text-blue-600 hover:text-blue-900 inline-flex items-center"},[s(m(B),{class:"h-4 w-4 mr-1"}),e[3]||(e[3]=p(" Lihat "))],8,q),s(m(y),{href:i.route("admin.legal-documents.edit",o.id),class:"text-indigo-600 hover:text-indigo-900"},{default:r(()=>e[4]||(e[4]=[p("Edit")])),_:2,__:[4]},1032,["href"])])]))),128))])])])])])])]),s(L,{show:c.value,onClose:h,maxWidth:"2xl"},{default:r(()=>[t("div",Q,[x.value?(l(),n("div",R,e[6]||(e[6]=[t("svg",{class:"animate-spin h-8 w-8 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):a.value?(l(),n("div",U,[t("h2",X,d(a.value.name)+" (v"+d(a.value.version)+") ",1),t("div",{class:"prose dark:prose-invert max-w-none",innerHTML:a.value.content},null,8,Y),t("div",Z,[s(M,{onClick:h},{default:r(()=>e[7]||(e[7]=[p("Tutup")])),_:1,__:[7]})])])):f("",!0)])]),_:1},8,["show"])]),_:1})],64)}}};export{ft as default};
