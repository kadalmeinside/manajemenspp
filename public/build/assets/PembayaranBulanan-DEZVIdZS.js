import{r as p,y as A,c as s,b as r,d as x,u as k,g as T,w as h,e as t,l as b,C as f,F as o,f as i,t as n,D as v,n as _,j as V,h as I,S as L,Q as N}from"./app-CPVoA31p.js";import{A as P}from"./AuthenticatedLayout-BmzT34Da.js";import{l as C}from"./lodash-zwGhXtpd.js";import{_ as E}from"./TextInput-ggKNcbCA.js";import"./ApplicationLogo-DFaQdlNY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-olnXsFbd.js";import"./SecondaryButton-D-ppne-J.js";import"./DangerButton-BoxGUnk_.js";import"./ArrowPathIcon-C6AM91Xv.js";import"./CheckCircleIcon-DP--bjr8.js";import"./XCircleIcon-DRRMQsRj.js";import"./UsersIcon-CDIMgoQJ.js";import"./XMarkIcon-B4NbLV57.js";import"./ChevronDownIcon-CfmqgwmF.js";import"./ChevronRightIcon-BefVYW0h.js";const M={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},B={class:"pb-12 pt-4"},F={class:"max-w-7xl mx-auto"},K={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6"},H={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Q=["value"],U=["value"],Y={class:"relative max-h-[70vh] overflow-auto border-t dark:border-gray-700"},z={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},O={class:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10"},G={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},R={key:0},X={class:"sticky left-0 bg-white dark:bg-gray-800 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},q=["title"],J={key:0,class:"h-2 w-2 mr-1.5 bg-slate-500 rounded-full"},W={key:0,class:"p-4 border-t dark:border-gray-700"},Z={class:"flex flex-wrap -mb-1 justify-center"},ee=["innerHTML"],ke={__name:"PembayaranBulanan",props:{pageTitle:String,laporanData:Object,allKelas:Array,availableYears:Array,filters:Object},setup(l){const m=l,u=p(m.filters.search||""),g=p(m.filters.tahun||new Date().getFullYear()),c=p(m.filters.kelas_id||""),w=Array.from({length:12},(y,a)=>new Date(0,a).toLocaleString("id-ID",{month:"short"})),D=()=>{N.get(route("admin.laporan.pembayaran_bulanan"),{search:u.value,tahun:g.value,kelas_id:c.value},{preserveState:!0,preserveScroll:!0,replace:!0,only:["laporanData","filters"]})};A([u,g,c],C.debounce(D,300));const S=y=>({PAID:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",PENDING:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",EXPIRED:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300",FAILED:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300","N/A":"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"})[y]||"";return(y,a)=>(r(),s(o,null,[x(k(T),{title:l.pageTitle},null,8,["title"]),x(P,null,{header:h(()=>[t("h2",M,n(l.pageTitle),1)]),default:h(()=>[t("div",B,[t("div",F,[t("div",K,[t("div",j,[t("div",H,[x(E,{type:"text",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),placeholder:"Cari nama siswa...",class:"w-full"},null,8,["modelValue"]),f(t("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e),class:"w-full text-sm border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 rounded-md shadow-sm"},[a[3]||(a[3]=t("option",{value:""},"Semua Kelas",-1)),(r(!0),s(o,null,i(l.allKelas,e=>(r(),s("option",{key:e.id_kelas,value:e.id_kelas},n(e.nama_kelas),9,Q))),128))],512),[[v,c.value]]),f(t("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),class:"w-full text-sm border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 rounded-md shadow-sm"},[(r(!0),s(o,null,i(l.availableYears,e=>(r(),s("option",{key:e,value:e},n(e),9,U))),128))],512),[[v,g.value]])])]),t("div",Y,[t("table",z,[t("thead",O,[t("tr",null,[a[4]||(a[4]=t("th",{class:"sticky left-0 bg-gray-50 dark:bg-gray-700 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Siswa",-1)),a[5]||(a[5]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kelas",-1)),(r(!0),s(o,null,i(k(w),e=>(r(),s("th",{key:e,class:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},n(e),1))),128))])]),t("tbody",G,[l.laporanData.data.length===0?(r(),s("tr",R,a[6]||(a[6]=[t("td",{colspan:14,class:"px-6 py-10 text-center text-gray-500"},"Tidak ada data untuk ditampilkan.",-1)]))):b("",!0),(r(!0),s(o,null,i(l.laporanData.data,e=>(r(),s("tr",{key:e.id_siswa},[t("td",X,n(e.nama_siswa),1),t("td",$,n(e.nama_kelas),1),(r(),s(o,null,i(12,d=>t("td",{key:d,class:"px-3 py-4 text-center"},[t("span",{class:_(["px-2 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full",S(e.statuses[d].status)]),title:e.statuses[d].status==="PAID"&&e.statuses[d].payment_method==="manual"?"Pembayaran Manual":""},[e.statuses[d].status==="PAID"&&e.statuses[d].payment_method==="manual"?(r(),s("span",J)):b("",!0),V(" "+n(e.statuses[d].status),1)],10,q)])),64))]))),128))])])]),l.laporanData.links.length>3?(r(),s("div",W,[t("div",Z,[(r(!0),s(o,null,i(l.laporanData.links,(e,d)=>(r(),s(o,{key:d},[e.url===null?(r(),s("div",{key:0,class:"mr-1 mb-1 px-3 py-2 text-sm leading-4 text-gray-400 border rounded select-none",innerHTML:e.label},null,8,ee)):(r(),I(k(L),{key:1,class:_(["mr-1 mb-1 px-3 py-2 text-sm leading-4 border rounded hover:bg-gray-100 dark:hover:bg-gray-700",{"bg-indigo-500 text-white dark:bg-indigo-600":e.active}]),href:e.url,innerHTML:e.label,"preserve-scroll":""},null,8,["class","href","innerHTML"]))],64))),128))])])):b("",!0)])])])]),_:1})],64))}};export{ke as default};
