import{E as w,k as y,x as _,c,b as x,d as t,u as e,g as U,w as d,e as s,t as m,n as C,m as k,j as b,T as v,l as V,F as $}from"./app-CUVLmLwJ.js";import{_ as E}from"./SiswaLayout-CjxziIjO.js";import{_ as u,a as g,b as p}from"./TextInput-Bg9cU53T.js";import{P as S}from"./PrimaryButton-D-ThPLHU.js";import{_ as F}from"./Toast-CsTz-FEk.js";import"./ApplicationLogo-BFD3wm79.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-pYUDCKzy.js";import"./SecondaryButton-B6XGgDl1.js";import"./DangerButton-p9H1-G5f.js";import"./ChevronDownIcon-C75fi-FM.js";import"./InformationCircleIcon-BDtquHRm.js";import"./ExclamationTriangleIcon-C2lTuD_j.js";import"./CheckCircleIcon-DL1tYHsa.js";const I={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},L={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},A={class:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg"},K={class:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-6"},q={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},M={class:"mt-1 text-sm"},W={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},z={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},D={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},O={class:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg"},G={class:"flex items-center gap-4"},H={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},J={class:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg"},Q={class:"flex items-center gap-4"},R={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},us={__name:"Profile",props:{siswa:Object,pageTitle:String,status:String},setup(l){const f=l;w().props.auth.user;const h=y(()=>{var i;return(i=w().props.flash)==null?void 0:i.message}),T=y(()=>{var i;return((i=w().props.flash)==null?void 0:i.type)||"info"}),o=_({email_wali:f.siswa.email_wali,nomor_telepon_wali:f.siswa.nomor_telepon_wali}),P=()=>{o.put(route("siswa.profil.update_info"),{preserveScroll:!0})},r=_({current_password:"",password:"",password_confirmation:""}),B=()=>{r.put(route("siswa.profil.update_password"),{preserveScroll:!0,onSuccess:()=>r.reset(),onError:()=>{r.errors.password&&r.reset("password","password_confirmation"),r.errors.current_password&&r.reset("current_password")}})},N=i=>i==="Aktif"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";return(i,a)=>(x(),c($,null,[t(e(U),{title:l.pageTitle},null,8,["title"]),t(E,null,{header:d(()=>[s("h2",I,m(l.pageTitle),1)]),default:d(()=>[t(F,{message:h.value,type:T.value},null,8,["message","type"]),s("div",L,[s("div",j,[s("div",A,[s("section",null,[a[10]||(a[10]=s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Biodata Siswa"),s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Informasi dasar mengenai siswa.")],-1)),s("dl",K,[s("div",null,[a[5]||(a[5]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Nama Lengkap",-1)),s("dd",q,m(l.siswa.nama_siswa),1)]),s("div",null,[a[6]||(a[6]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Status",-1)),s("dd",M,[s("span",{class:C(["px-2 py-0.5 rounded-full text-xs font-semibold",N(l.siswa.status_siswa)])},m(l.siswa.status_siswa),3)])]),s("div",null,[a[7]||(a[7]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Tanggal Lahir",-1)),s("dd",W,m(l.siswa.tanggal_lahir_formatted),1)]),s("div",null,[a[8]||(a[8]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Tanggal Bergabung",-1)),s("dd",z,m(l.siswa.tanggal_bergabung_formatted),1)]),s("div",null,[a[9]||(a[9]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Kelas/Cabang",-1)),s("dd",D,m(l.siswa.kelas.nama_kelas),1)])])])]),s("div",O,[s("section",null,[a[12]||(a[12]=s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Informasi Kontak & Login"),s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Perbarui email login dan nomor telepon Anda.")],-1)),s("form",{onSubmit:k(P,["prevent"]),class:"mt-6 space-y-6"},[s("div",null,[t(u,{for:"email_wali",value:"Email Wali (Login)"}),t(g,{id:"email_wali",type:"email",class:"mt-1 block w-full",modelValue:e(o).email_wali,"onUpdate:modelValue":a[0]||(a[0]=n=>e(o).email_wali=n),required:""},null,8,["modelValue"]),t(p,{class:"mt-2",message:e(o).errors.email_wali},null,8,["message"])]),s("div",null,[t(u,{for:"nomor_telepon_wali",value:"Nomor Telepon Wali"}),t(g,{id:"nomor_telepon_wali",type:"text",class:"mt-1 block w-full",modelValue:e(o).nomor_telepon_wali,"onUpdate:modelValue":a[1]||(a[1]=n=>e(o).nomor_telepon_wali=n),required:""},null,8,["modelValue"]),t(p,{class:"mt-2",message:e(o).errors.nomor_telepon_wali},null,8,["message"])]),s("div",G,[t(S,{disabled:e(o).processing},{default:d(()=>a[11]||(a[11]=[b("Simpan")])),_:1,__:[11]},8,["disabled"]),t(v,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:d(()=>[e(o).recentlySuccessful?(x(),c("p",H,"Tersimpan.")):V("",!0)]),_:1})])],32)])]),s("div",J,[s("section",null,[a[14]||(a[14]=s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Ubah Password"),s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Pastikan akun Anda menggunakan password yang panjang dan acak agar tetap aman.")],-1)),s("form",{onSubmit:k(B,["prevent"]),class:"mt-6 space-y-6"},[s("div",null,[t(u,{for:"current_password",value:"Password Saat Ini"}),t(g,{id:"current_password",type:"password",class:"mt-1 block w-full",modelValue:e(r).current_password,"onUpdate:modelValue":a[2]||(a[2]=n=>e(r).current_password=n)},null,8,["modelValue"]),t(p,{class:"mt-2",message:e(r).errors.current_password},null,8,["message"])]),s("div",null,[t(u,{for:"password",value:"Password Baru"}),t(g,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:e(r).password,"onUpdate:modelValue":a[3]||(a[3]=n=>e(r).password=n)},null,8,["modelValue"]),t(p,{class:"mt-2",message:e(r).errors.password},null,8,["message"])]),s("div",null,[t(u,{for:"password_confirmation",value:"Konfirmasi Password Baru"}),t(g,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:e(r).password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=n=>e(r).password_confirmation=n)},null,8,["modelValue"]),t(p,{class:"mt-2",message:e(r).errors.password_confirmation},null,8,["message"])]),s("div",Q,[t(S,{disabled:e(r).processing},{default:d(()=>a[13]||(a[13]=[b("Simpan")])),_:1,__:[13]},8,["disabled"]),t(v,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:d(()=>[e(r).recentlySuccessful?(x(),c("p",R,"Tersimpan.")):V("",!0)]),_:1})])],32)])])])])]),_:1})],64))}};export{us as default};
