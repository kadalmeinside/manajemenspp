import{a as l,o as i,d as t,j as f,q as h,Q as w,b as n,u as g,g as k,w as m,t as r,n as c,B as b,F as u,r as p,C as _,e as v,S}from"./app-DjrHdLha.js";import{A}from"./AuthenticatedLayout-Cj380sGa.js";import{l as D}from"./lodash-B_A68fqN.js";import"./ApplicationLogo-C-GJqSY-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserCircleIcon-BHGiOHgt.js";import"./ArrowPathIcon-Ow_otJ6l.js";import"./CheckCircleIcon-DpeA9miC.js";import"./XCircleIcon-BevXD7wu.js";function T(s,x){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M17 10a.75.75 0 0 1-.75.75H5.612l4.158 3.96a.75.75 0 1 1-1.04 1.08l-5.5-5.25a.75.75 0 0 1 0-1.08l5.5-5.25a.75.75 0 1 1 1.04 1.08L5.612 9.25H16.25A.75.75 0 0 1 17 10Z","clip-rule":"evenodd"})])}const B={class:"flex items-center space-x-4"},E={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},L={class:"pb-12 pt-4"},I={class:"max-w-full mx-auto space-y-8"},C={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},N={class:"p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-6"},j={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},F={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},P={class:"mt-1 text-sm"},V={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},H={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},J={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},M={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},O={class:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"},Q={class:"w-full sm:w-auto max-w-xs"},R=["value"],Y={class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},z={class:"divide-y divide-gray-200 dark:divide-gray-700"},G={key:0},K={colspan:"6",class:"px-6 py-10 text-center text-gray-500"},U={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},W={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},X={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},Z={class:"px-6 py-4 text-sm"},$={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},tt={class:"px-6 py-4 text-right text-sm font-medium"},et=["href"],gt={__name:"Show",props:{siswa:Object,invoices:Array,pageTitle:String,filters:Object,availableYears:Array},setup(s){const x=s,o=f(x.filters.tahun);h(o,D.debounce(d=>{w.get(route("admin.siswa.show",x.siswa.id_siswa),{tahun:d},{preserveState:!0,preserveScroll:!0,replace:!0,only:["invoices","filters"]})},300));const y=d=>d==="PAID"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":d==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":d==="EXPIRED"||d==="FAILED"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400";return(d,e)=>(i(),l(u,null,[n(g(k),{title:s.pageTitle},null,8,["title"]),n(A,null,{header:m(()=>[t("div",B,[n(g(S),{href:d.route("admin.siswa.index"),class:"text-gray-400 hover:text-gray-600"},{default:m(()=>[n(g(T),{class:"h-5 w-5"})]),_:1},8,["href"]),t("h2",E,r(s.pageTitle)+": "+r(s.siswa.nama_siswa),1)])]),default:m(()=>[t("div",L,[t("div",I,[t("div",C,[e[7]||(e[7]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Biodata Siswa")],-1)),t("dl",N,[t("div",null,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-gray-500"},"Nama Lengkap",-1)),t("dd",j,r(s.siswa.nama_siswa),1)]),t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500"},"Kelas",-1)),t("dd",F,r(s.siswa.kelas_nama),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",P,[t("span",{class:c(["px-2 py-0.5 rounded-full text-xs font-semibold",y(s.siswa.status_siswa==="Aktif"?"PAID":"FAILED")])},r(s.siswa.status_siswa),3)])]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Tanggal Lahir",-1)),t("dd",V,r(s.siswa.tanggal_lahir_formatted),1)]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Tanggal Bergabung",-1)),t("dd",H,r(s.siswa.tanggal_bergabung_formatted),1)]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Email Wali",-1)),t("dd",J,r(s.siswa.email_wali),1)])])]),t("div",M,[t("div",O,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Riwayat Invoice",-1)),t("div",Q,[b(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),class:"block w-full text-sm border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 rounded-md shadow-sm"},[(i(!0),l(u,null,p(s.availableYears,a=>(i(),l("option",{key:a,value:a},r(a),9,R))),128))],512),[[_,o.value]])])]),t("div",Y,[t("table",q,[e[9]||(e[9]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Deskripsi"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Jumlah"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Jatuh Tempo"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tgl Bayar"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi")])],-1)),t("tbody",z,[s.invoices.length===0?(i(),l("tr",G,[t("td",K,"Tidak ada riwayat tagihan untuk tahun "+r(o.value)+".",1)])):(i(!0),l(u,{key:1},p(s.invoices,a=>(i(),l("tr",{key:a.id},[t("td",U,r(a.description),1),t("td",W,r(a.total_amount_formatted),1),t("td",X,r(a.due_date_formatted),1),t("td",Z,[t("span",{class:c(["px-2 py-0.5 text-xs font-semibold rounded-full",y(a.status)])},r(a.status),3)]),t("td",$,r(a.paid_at_formatted),1),t("td",tt,[a.xendit_payment_url?(i(),l("a",{key:0,href:a.xendit_payment_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-900"},"Lihat",8,et)):v("",!0)])]))),128))])])])])])])]),_:1})],64))}};export{gt as default};
